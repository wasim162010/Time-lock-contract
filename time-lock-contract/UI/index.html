<!DOCTYPE html>
<html lang="en">

<head>

    <script type = "text/javascript" 
        src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
     </script>
    <script type = "text/javascript" language = "javascript">
        $(document).ready(function() {

            $("#Deposit").click(function(event){
                if ( $('#curVal').val() == ""){
                    alert("Enter token amount")
                }
                let selToken = $('#Token :selected').text()
                console.log("Deposit called");

                var url = '/deposit?amt='+ $('#curVal').val() +'&token=' + selToken
                    // $.post(url, function (data) {
                  
                    //     console.log("")
                    //  });//

                    $.ajax({
                        type: "POST",
                        url: url,
                        success: function(msg){
                                alert( "Tokens locked successfully." );
                        },
                        error: function(XMLHttpRequest, textStatus, errorThrown) {
                            alert(errorThrown);
                        }
                });

            });

            $("#Claim").click(function(event){

                console.log("Deposit called");
                let selToken = $('#Token :selected').text()
                var url = '/claim?token=' + selToken

                // $.post('/claim', function (data) {
                //     console.log("curValue called");
                //     console.log(data);
                //     alert(data);
                    
                
                // });//

                $.ajax({
                    type: "POST",
                    url: url,
                    success: function(msg){
                            alert( "Transferred claimed tokens to the account" );
                    },
                    error: function(XMLHttpRequest, textStatus, errorThrown) {
                        alert(errorThrown);
                    }
                });

            });

        });

    </script>

    <meta charset="UTF-8">
    <title>Sample Site</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <style>
        body { padding-top:50px; }
    </style>
</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <h1>Time locked token DApp</h1>
        </div>
        <span>Select token</span>
        <select name="Token" id="Token">
            <option value="ERC20">ERC20</option>
            <option value="Ether">Ether</option>
          </select>
        <div> 
            <br/>
            <span>Enter value to be deposited/claim</span>
            <input type = "text" id = "curVal" readonly= true  />
            <br />
            <input type = "button" id = "Deposit" value = "Deposit" /> 
            <input type = "button" id = "Claim" value = "Claim" /> 

        </div>
        <div> 
                <br/>
               
               
            </div>
    </div>
    

</body>
</html>